<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L'Entre-2-Traits</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" href="../img/logo.png">
    <link href="https://fonts.googleapis.com/css2?family=Chelsea+Market&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/carrousel.css">
    <link rel="stylesheet" href="../css/travaux.css">
</head>

<body>

    <!-- Header -->
    <header>
        <img src="../img/logo.webp" alt="Logo L'Entre 2 Traits">
    </header>

    <!-- Navigation -->
    <nav>
        <a href="./index.html">Accueil</a>
        <a href="../html/atelier.html">Atelier</a>
        <a href="../html/travaux.html"><span class="page"><span class="page">Travaux d'élèves</span></a>
        <a href="../html/interventions.html">Les interventions</a>
        <a href="../html/parcours.html">Parcours</a>
        <a href="../html/contact.html">Contact</a>
        <a href="../html/actus.html">Actus</a>
        <a href="../html/boutique.html">Boutique</a>
        <span class="panier-link"></span>
        <img src="../img/panier.png" alt="panier" class="panier">
        <span class="nombre-articles-panier" id="panier-bulle">0</span>
        </span>
    </nav>
    <main>
        <section class="student-work">
            <h2>Travaux d'élèves</h2>
            <p>Des Illustrations</p>

            <!-- Année 2024 -->
            <article class="carrt">
                <div id="carousel1" class="carouselt">
                    <img src="../img/Actualite.gif" alt="Image 1">
                    <img src="../img/Atelier.gif" alt="Image 2">
                    <img src="../img/boutique.gif" alt="Image 3">
                    <img src="../img/boutique.gif" alt="Image 3">
                </div>
                <button class="prev" onclick="prevImage()">&#10094;</button>
                <button class="next" onclick="nextImage()">&#10095;</button>
            </article>

        </section>



    </main>
    <!-- Footer -->
    <footer>
        <p>&copy; 2023 by CREATIVE EVENTS</p>
        <p>Toutes les photos, images, illustrations ou supports visuels sont soumis aux droits d'auteurs.</p>
        <div>
            <a href="https://www.facebook.com/Entre2Traits"><img src="../img/facebook.webp" alt="Facebook"></a>
            <a href=".https://www.youtube.com/channel/UCJcNeqQNF889gndHbw6mXfA"><img src="../img/youtube.webp"
                    alt="YouTube"></a>
        </div>
    </footer>
    <script>
        function setupCarousel(carouselId) {
            var carousel = document.getElementById(carouselId);
            var images = carousel.children;
            var totalImages = images.length;

            // Cloner la première et la dernière image
            var cloneFirst = images[0].cloneNode(true);
            var cloneLast = images[totalImages - 1].cloneNode(true);
            carousel.appendChild(cloneFirst);
            carousel.insertBefore(cloneLast, images[0]);

            var currentIndex = 1;
            var scrollAmount = 0;
            var scrollTime = 10000; // Temps de défilement en millisecondes

            // Initialisation de la position du carrousel pour masquer le clone de la dernière image
            carousel.scrollTo({
                left: carousel.offsetWidth,
                behavior: 'instant'
            });

            function rotateImages() {
                currentIndex++;
                carousel.scrollTo({
                    left: currentIndex * carousel.offsetWidth,
                    behavior: 'smooth'
                });

                // Si on arrive au clone de la première image, réinitialiser après l'animation
                if (currentIndex >= totalImages + 1) {
                    setTimeout(function () {
                        carousel.scrollTo({
                            left: carousel.offsetWidth,
                            behavior: 'instant'
                        });
                        currentIndex = 1;
                    }, 500); // Attends la fin de l'animation avant de reset
                }
            }

            function prevImage() {
                currentIndex--;
                carousel.scrollTo({
                    left: currentIndex * carousel.offsetWidth,
                    behavior: 'smooth'
                });

                // Si on arrive au clone de la dernière image, réinitialiser après l'animation
                if (currentIndex < 1) {
                    setTimeout(function () {
                        carousel.scrollTo({
                            left: totalImages * carousel.offsetWidth,
                            behavior: 'instant'
                        });
                        currentIndex = totalImages;
                    }, 500);
                }
            }

            function nextImage() {
                rotateImages();
            }

            // Liens avec les boutons
            document.querySelector(`.prev[onclick="prevImage('${carouselId}')"]`).onclick = prevImage;
            document.querySelector(`.next[onclick="nextImage('${carouselId}')"]`).onclick = nextImage;

            // Défilement automatique
            setInterval(rotateImages, scrollTime);
        }

        // Initialiser le carrousel
        setupCarousel('carouselt1');
    </script>


</body>

</html>